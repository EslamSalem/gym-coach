<%- include("includes/head", {title: "Signup"}) %>
<link rel="stylesheet" href="/styles/forms.css" />
<script src="/scripts/image-preview.js" defer></script>
</head>
<body>
  <%- include("includes/header") %>
  <main>
    <h2 class="page-heading">Create an Account</h2>
    <% if (sessionData.message) { %>
    <p id="error-msg"><%= sessionData.message %></p>
    <% } %>
    <form
      action="/signup"
      method="POST"
      enctype="multipart/form-data"
    >
      <input type="hidden" name="csrfToken" value="<%= locals.csrfToken %>">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        name="name"
        value="<%= sessionData.name %>"
        required
      />
      <div id="image-upload-control">
        <div>
          <label>Profile Picture</label>
          <input type="file" name="image" required />
        </div>
        <img src="" alt="Selected Picture">
      </div>
      <label for="email">E-mail</label>
      <input
        type="email"
        id="email"
        name="email"
        value="<%= sessionData.email %>"
        required
      />
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        name="password"
        value="<%= sessionData.password %>"
        minlength="8"
        required
      />
      <label for="phone">Phone Number</label>
      <input
        type="number"
        id="phone"
        name="phone"
        value="<%= sessionData.phone %>"
        required
      />
      <div id="form-control-btns">
        <button class="btn-main">Submit</button>
        <button class="btn-main btn-alt" type="reset">Clear</button>
      </div>
    </form>
  </main>
  <%- include("includes/footer") %>
</body>
</html>
